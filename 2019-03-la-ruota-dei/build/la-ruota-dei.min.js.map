{"version":3,"file":"la-ruota-dei.min.js","sources":["../src/assets/cliparts/cliparts-list.js","../src/js/wheel-data-store.js","../src/grabbable2/grabbable.js","../src/js/cliparts-list-builder.js","../src/js/cliparts.js","../src/js/form-settings.js","../src/js/manage-settings.js","../src/js/print.js"],"sourcesContent":["// lista id cliparts per demo\n// NB: questo file è generato dallo script gulp, eventuali modifiche saranno sovrascritte\nexport const cliparts_list = [\n  [\n    'albero',\n    'clipart-albero'\n  ],\n  [\n    'ciliege',\n    'clipart-ciliege'\n  ],\n  [\n    'cuore',\n    'clipart-cuore'\n  ],\n  [\n    'fiore',\n    'clipart-fiore'\n  ],\n  [\n    'fiori',\n    'clipart-fiori'\n  ],\n  [\n    'foglia',\n    'clipart-foglia'\n  ],\n  [\n    'luna',\n    'clipart-luna'\n  ],\n  [\n    'macchia',\n    'clipart-macchia'\n  ],\n  [\n    'mano',\n    'clipart-mano'\n  ],\n  [\n    'mela',\n    'clipart-mela'\n  ],\n  [\n    'zero',\n    'clipart-num-00'\n  ],\n  [\n    'uno',\n    'clipart-num-01'\n  ],\n  [\n    'due',\n    'clipart-num-02'\n  ],\n  [\n    'tre',\n    'clipart-num-03'\n  ],\n  [\n    'quattro',\n    'clipart-num-04'\n  ],\n  [\n    'cinque',\n    'clipart-num-05'\n  ],\n  [\n    'sei',\n    'clipart-num-06'\n  ],\n  [\n    'sette',\n    'clipart-num-07'\n  ],\n  [\n    'otto',\n    'clipart-num-08'\n  ],\n  [\n    'nove',\n    'clipart-num-09'\n  ],\n  [\n    'dieci',\n    'clipart-num-10'\n  ],\n  [\n    'undici',\n    'clipart-num-11'\n  ],\n  [\n    'dodici',\n    'clipart-num-12'\n  ],\n  [\n    'tredici',\n    'clipart-num-13'\n  ],\n  [\n    'quattordici',\n    'clipart-num-14'\n  ],\n  [\n    'quindici',\n    'clipart-num-15'\n  ],\n  [\n    'sedici',\n    'clipart-num-16'\n  ],\n  [\n    'diciassette',\n    'clipart-num-17'\n  ],\n  [\n    'diciotto',\n    'clipart-num-18'\n  ],\n  [\n    'diciannove',\n    'clipart-num-19'\n  ],\n  [\n    'venti',\n    'clipart-num-20'\n  ],\n  [\n    'palloncini',\n    'clipart-palloncini'\n  ],\n  [\n    'pera',\n    'clipart-pera'\n  ],\n  [\n    'pesce',\n    'clipart-pesce'\n  ],\n  [\n    'sole',\n    'clipart-sole'\n  ],\n  [\n    'stella',\n    'clipart-stella'\n  ]\n];\n","export const wheel_data = {\n  svg_wrapper: document.getElementById('svg-wrapper'),\n  storage_var: 'la_ruota_dei',\n  cliparts_wrapper: document.querySelector('main .cliparts-list'),\n  cliparts_selected_wrapper: document.querySelector('main .cliparts-selected-wrapper')\n};\n","/* eslint no-console: 0, no-unused-vars: 0, no-empty:  0 */\n\n/*!\n * Grabbable 2 (grabbable with callback)\n * ----------------------------------------------------\n * forked from grabbable - Version: 1.0.4\n * Copyright 2016 Wolfgang Kurz\n * Released under the MIT license\n * https://github.com/WolfgangKurz/grabbable\n *\n * Massimo Cassandro (2018)\n * https://github.com/massimo-cassandro/grabbable2\n */\n\n //TODO\n/*\n\t- compatibilità con css grid\n\t- es 6\n\t- eliminare compatibilità IE\n\t- vedi: \n\t\t\thttps://codepen.io/therealDaze/pen/ZaoErp\n\t\t\thttps://github.com/gridstack/gridstack.js\n\t\t\thttps://developer.mozilla.org/it/docs/Web/API/HTML_Drag_and_Drop_API\n\t\t\thttps://www.html5rocks.com/en/tutorials/dnd/basics/\n*/\n\n\n\"use strict\";\n!function(){\n\tvar grabbableStyle = function(){\n\t\tvar style = document.createElement(\"style\");\n\t\tstyle.type = \"text/css\";\n\t\tstyle.innerHTML = \".grabbable > * { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: -webkit-grab; cursor: grab } \"\n\t\t\t+ \".grabbable > .grabbable-dummy {\"\n\t\t\t+ \" border: 1px solid #d4d4d4;\"\n\t\t\t+ \" background: repeating-linear-gradient( -45deg, #fff, #fff 4px, #d4d4d4 4px, #d4d4d4 5px );\"\n\t\t\t+ \"}\";\n\t\tdocument.querySelector(\"body\").appendChild(style);\n\t};\n\n\tvar customCallback = null;\n\n\tvar callCallback = function(elem){\n\t\tif(document.createEventObject) {\n\t\t\telem.fireEvent(\"ondragged\");\n\n\t\t} else {\n\t\t\tvar evt = document.createEvent(\"HTMLEvents\");\n\t\t\tevt.initEvent(\"dragged\", false, true);\n\t\t\telem.dispatchEvent(evt);\n\n      if( customCallback && typeof customCallback === 'function') {\n        customCallback();\n      }\n\t\t}\n\t};\n\n\tvar dummy = null, bg = null;\n\tvar createDummy = function(){\n\t\tbg = document.createElement(\"div\");\n\t\tbg.style.position = \"absolute\";\n\t\tbg.style.width = \"1px\";\n\t\tbg.style.height = \"1px\";\n\t\tbg.style.overflow = \"hidden\";\n\n\t\tdummy = document.createElement(\"div\");\n\t\tdummy.className = \"grabbable-dummy\";\n\t\tdummy.style.position = \"relative\";\n\t\tdummy.addEventListener(\"drop\", function(e){\n\t\t\tvar data = e.dataTransfer.getData(\"text\");\n\t\t\tif(data!==\"draggable\") return;\n\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\n\t\t\twhile(bg.children.length>0){\n\t\t\t\tvar elem = bg.children[0];\n\t\t\t\tthis.parentNode.insertBefore(elem, this);\n\t\t\t}\n\n\t\t\tdummy.style.display = \"none\";\n\t\t\tcallCallback(dummy.parentNode);\n\t\t});\n\n\t\tvar x = document.querySelector(\"body\");\n\t\tx.appendChild(dummy);\n\t\tx.appendChild(bg);\n\t};\n\tvar updateDummy = function(el){\n\n/**** fix */\n\t\tif(bg === null) {\n  \t\tgrabbableStyle();\n  \t\tcreateDummy();\n\t\t}\n/**** end fix */\n\n\t\tbg.style.left = el.offsetLeft+\"px\";\n\t\tbg.style.top = el.offsetTop+\"px\";\n\t\tdummy.style.width = el.offsetWidth+\"px\";\n\t\tdummy.style.height = el.offsetHeight+\"px\";\n\n\t\tvar style = window.getComputedStyle(el);\n\t\tdummy.style.display = style.display;\n\t\tdummy.style.margin = style.marginTop+\" \"+style.marginRight+\" \"+style.marginBottom+\" \"+style.marginLeft;\n\t\tdummy.style.padding = style.paddingTop+\" \"+style.paddingRight+\" \"+style.paddingBottom+\" \"+style.paddingLeft;\n\t};\n\tvar initGrabbable = function(){\n\t\tgrabbableStyle();\n\t\tcreateDummy();\n\t};\n\n\tvar prevent = function(e){\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t};\n\tvar allowDrop = function(e){\n\t\te.preventDefault();\n\n\t\te.stopPropagation();\n\n\t\tif(this.previousElementSibling!==dummy)\n\t\t\tthis.parentNode.insertBefore(dummy, this);\n\t\telse\n\t\t\tthis.parentNode.insertBefore(dummy, this.nextElementSibling);\n\t};\n\tvar dragOn = function(e){\n\t\te.dataTransfer.setData(\"text\", \"draggable\");\n\t};\n\tvar resetDrop = function(e){\n\t\tvar data = e.dataTransfer.getData(\"text\");\n\t\tif(data!==\"draggable\") return;\n\n\t\tprevent(e);\n\n\t\twhile(bg.children.length>0){\n\t\t\tvar elem = bg.children[0];\n\t\t\tdummy.parentNode.insertBefore(elem, dummy);\n\t\t}\n\t\tdummy.style.display = \"none\";\n\t\tcallCallback(dummy.parentNode);\n\t};\n\n\tif(document.readyState===\"complete\") {\n  \tinitGrabbable();\n\t} else {\n  \tdocument.addEventListener(\"DOMContentLoaded\", function(){ initGrabbable(); });\n  }\n\n\tHTMLElement.prototype.grabbable = function( userCallback ){\n\t\tif( (\" \"+this.className+\" \").indexOf(\" grabbable \")<0 )\n\t\t\tthis.className += \" grabbable\";\n\n\t\tif( userCallback && typeof userCallback === 'function' ) {\n  \t\tcustomCallback = userCallback;\n\t\t}\n\n\t\tfor(var i=0; i<this.children.length; i++){\n\t\t\tvar el = this.children[i];\n\t\t\tif(typeof el.draggabled===\"undefined\"){\n\t\t\t\tif(el===dummy) continue;\n\n\t\t\t\tel.draggable = true;\n\n\t\t\t\tel.addEventListener(\"dragstart\", dragOn);\n\t\t\t\tel.addEventListener(\"dragover\", allowDrop);\n\t\t\t\tel.addEventListener(\"drag\", function(){\n\t\t\t\t\tif(this.parentNode===bg) return;\n\t\t\t\t\tif(this===dummy) return;\n\t\t\t\t\tupdateDummy(this);\n\t\t\t\t\tthis.parentNode.insertBefore(dummy, this);\n\t\t\t\t\tbg.appendChild(this);\n\t\t\t\t});\n\t\t\t\tel.addEventListener(\"drop\", function(e){\n\t\t\t\t\tprevent(e);\n\t\t\t\t\tif(document.createEventObject) {\n  \t\t\t\t\tdummy.fireEvent(\"ondrop\", e);\n\t\t\t\t\t} else {\n  \t\t\t\t\tdummy.dispatchEvent(new DragEvent(e.type, e));\n  \t\t\t\t}\n\t\t\t\t});\n\t\t\t\tel.draggabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif(typeof document.draggabled===\"undefined\"){\n\t\t\tdocument.addEventListener(\"dragover\", prevent);\n\t\t\tdocument.addEventListener(\"drop\", resetDrop);\n\t\t\tdocument.draggabled = true;\n\t\t}\n\t};\n}();\n","import { cliparts_list } from '../assets/cliparts/cliparts-list';\nimport { wheel_data } from './wheel-data-store';\n\n(() => {\n  // 'use strict';\n\n  /*\n    var cliparts_list = [\n      [\n        \"albero\",\n        \"clipart-albero\"\n      ],\n      [\n        \"zero\",\n        \"clipart-num-00\"\n      ],\n\n      [...]\n    ]\n  */\n\n  // ordinamento in modo che i numeri siano in fondo\n  // cliparts_list è generato dallo script gulp che crea le icone svg\n\n  cliparts_list.sort((a, b) => {\n    const num_prefix = 'clipart-num';\n\n    let a_isNum = a[1].indexOf(num_prefix) > -1 ? 1 : 0,\n      b_isNum = b[1].indexOf(num_prefix) > -1 ? 1 : 0;\n\n    return a_isNum - b_isNum;\n  });\n\n  cliparts_list.forEach(function (item) {\n    wheel_data.cliparts_wrapper.insertAdjacentHTML('beforeend',\n      '<div class=\"clipart\" data-id=\"' + item[1] + '\" data-nome=\"' + item[0] + '\" role=\"button\">' +\n        '<svg>' +\n          '<title>' + item[0] + '</title>' +\n          '<use xlink:href=\"#' + item[1] + '\"></use>'+\n        '</svg>'+\n        '<div class=\"clipart-dida\" title=\"' + item[0] + '\">' + item[0] + '</div>'+\n      '</div>'\n    );\n  });\n\n})();\n","import { wheel_data } from './wheel-data-store';\nimport '../grabbable2/grabbable';\n\n(() => {\n\n  const svg_retro = wheel_data.svg_wrapper.querySelector('#ruota_retro');\n\n  // numero delle clips posizionabili nel disco\n  let clips_posizionabili_totali,\n    // viene mostrato il nome della clip?\n    cliparts_have_text;\n\n  // restituisce il numero delle clipart aggiunte\n  const get_cliparts_num = function () {\n      return wheel_data.cliparts_selected_wrapper.querySelectorAll('.clipart-selected').length;\n    },\n\n    // determina il numero delle clips posizionabili nel disco\n    set_clips_posizionabili_totali = function () {\n      clips_posizionabili_totali = +document.querySelector('[name=\"finestre\"]:checked').value === 1? 12 : 6;\n      cliparts_have_text = clips_posizionabili_totali === 6;\n\n      // aggiunge una classe a `wheel_data.cliparts_selected_wrapper` per mostrare o meno il campo testo\n      wheel_data.cliparts_selected_wrapper.classList.toggle('clipart-text', !cliparts_have_text);\n\n      if(get_cliparts_num() > clips_posizionabili_totali) {\n        wheel_data.cliparts_selected_wrapper\n          .querySelectorAll(`.clipart-selected:nth-child(n+${clips_posizionabili_totali + 1}`)\n          .forEach(item => {\n            item.remove();\n          });\n      }\n\n    };\n\n  // listener radio scelta numero finestre\n  document.querySelectorAll('[name=\"finestre\"]').forEach(el => {\n    el.addEventListener('click', () => {\n      set_clips_posizionabili_totali();\n    });\n  });\n\n  // aggiunge le clipart al disco\n  wheel_data.addClipsToDisk = function () {\n\n    set_clips_posizionabili_totali();\n\n    svg_retro.querySelectorAll('.clipart').forEach(item => {\n      item.remove();\n    });\n\n    wheel_data.cliparts_selected_wrapper.querySelectorAll('.clipart-selected').forEach((item, index) => {\n\n      let clipart_text = item.querySelector('.clipart-text input').value;\n\n      const clipart_size = 50,\n        clipart_y = 30,\n        radius_step = 30,\n        retro_svg_vbox_width = svg_retro.getAttribute('viewBox').split(' ')[2],\n        svg_center = retro_svg_vbox_width/2;\n\n      if(cliparts_have_text) {\n\n        let text_x = 28,\n          textLength = svg_center - text_x - 52;\n\n        svg_retro.insertAdjacentHTML('beforeend',\n          `<g class=\"clipart clipart-text clipart-text-${item.dataset.idx}\">\n            <text\n              text-anchor=\"start\"\n              transform=\"rotate(90)\"\n              style=\"/* visibility:hidden */\"\n            >\n              ${clipart_text}\n            </text>\n          </g>`\n        );\n\n        // calcolo bbox\n        // restituisce un oggetto con width, height, x, y\n        let text_element = svg_retro.querySelector(`.clipart-text-${item.dataset.idx} text`),\n          bbox = text_element.getBBox(),\n\n          text_y= -svg_center + (bbox.y + bbox.height) - 5;\n\n        text_element.setAttribute('y', text_y);\n        text_element.setAttribute('x', text_x);\n\n        if(bbox.width > textLength) {\n          text_element.setAttribute('textLength', textLength);\n          text_element.setAttribute('lengthAdjust', 'spacingAndGlyphs');\n        }\n\n        svg_retro.querySelector(`.clipart-text-${item.dataset.idx}`)\n          .setAttribute('transform', `rotate(${radius_step * index} ${svg_center} ${svg_center})`);\n\n\n        svg_retro.insertAdjacentHTML('beforeend',\n          `<use class=\"clipart clipart-${item.dataset.idx}\"\n            width=\"${clipart_size}\" height=\"${clipart_size}\"\n            y=\"${clipart_y}\" x=\"${svg_center - (clipart_size / 2)}\"\n            transform=\"rotate(${radius_step * (index + 6)} ${svg_center} ${svg_center})\"\n            xlink:href=\"#${item.dataset.id}\">\n          </use>`\n        );\n\n      } else {\n        svg_retro.insertAdjacentHTML('beforeend',\n          `<use class=\"clipart clipart-${item.dataset.idx}\"\n            width=\"${clipart_size}\" height=\"${clipart_size}\"\n            y=\"${clipart_y}\" x=\"${svg_center - (clipart_size / 2)}\"\n            transform=\"rotate(${radius_step * index} ${svg_center} ${svg_center})\"\n            xlink:href=\"#${item.dataset.id}\">\n          </use>`\n        );\n      }\n    });\n\n  }; // end wheel_data.addClipsToDisk\n\n  // funzione per l'aggiunta delle cliparts\n  wheel_data.add_selected_clipart = function (clipart_data) {\n\n    // INDICE clipart\n    let idx = wheel_data.cliparts_selected_wrapper.querySelectorAll('.clipart-selected').length;\n\n    wheel_data.cliparts_selected_wrapper.insertAdjacentHTML('beforeend',\n      `<div class=\"clipart-selected\" title=\"Trascina per cambiare la posizione\">\n          <div>\n            <div class=\"clipart_btns\">\n              <div class=\"drag-btn\" role=\"button\"><span>Trascina</span></div>\n              <div class=\"close-btn\" title=\"Elimina\" role=\"button\"><span>Elimina</span></div>\n            </div>\n            <svg preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 100 100\">\n              <use xlink:href=\"#${clipart_data.id}\"></use>\n            </svg>\n            <div class=\"clipart-text mt-2\">\n              <label for=\"clipart-label-${idx}\" class=\"sr-only\">Nome</label>\n              <input class=\"form-control\" id=\"clipart-label-${idx}\" value=\"${clipart_data.nome}\" type=\"text\">\n            </div>\n          </div>\n      </div>`\n    );\n\n    let selected_last_child = wheel_data.cliparts_selected_wrapper\n      .querySelector('.clipart-selected:last-child');\n\n    for(let i in clipart_data) {\n      selected_last_child.dataset[i] = clipart_data[i];\n    }\n    selected_last_child.dataset.idx = idx;\n\n    wheel_data.cliparts_selected_wrapper.grabbable(wheel_data.addClipsToDisk);\n\n    wheel_data.addClipsToDisk();\n\n    let close_btn = selected_last_child.querySelector('.close-btn');\n\n    close_btn.addEventListener('click', function () {\n      this.closest('.clipart-selected').remove();\n      wheel_data.addClipsToDisk();\n    });\n  }; // end wheel_data.add_selected_clipart\n\n  // listener clic sulle clipart presenti nella lista\n  wheel_data.cliparts_wrapper.querySelectorAll('.clipart').forEach(item => {\n\n    item.addEventListener('click', () => {\n\n      if (get_cliparts_num() < clips_posizionabili_totali ) {\n        wheel_data.add_selected_clipart(item.dataset);\n\n      } else {\n        alert('Hai raggiunto il numero massimo di immagini!');\n      }\n    });\n\n  });\n\n  document.querySelector('.btn-reset-clips').addEventListener('click', function () {\n    svg_retro.querySelectorAll('.clipart').forEach(item => {\n      item.remove();\n    });\n    wheel_data.cliparts_selected_wrapper.innerHTML = '';\n  }, false);\n\n  set_clips_posizionabili_totali();\n\n})();\n\n","import { wheel_data } from './wheel-data-store';\n\n(() => {\n\n  const titolo1   = document.getElementById('titolo1'),\n    titolo2       = document.getElementById('titolo2'),\n    dim_titolo1   = document.getElementById('dim_titolo1'),\n    dim_titolo2   = document.getElementById('dim_titolo2'),\n    svg_titolo1   = wheel_data.svg_wrapper.querySelector('#ruota_fronte .titolo1'),\n    svg_titolo2   = wheel_data.svg_wrapper.querySelector('#ruota_fronte .titolo2'),\n    svg_finestra1 = wheel_data.svg_wrapper.querySelector('#ruota_fronte .finestra1'),\n    svg_deco      = wheel_data.svg_wrapper.querySelector('#ruota_fronte .deco');\n\n  wheel_data.update = function () {\n\n    let num_finestre              = +document.querySelector('[name=\"finestre\"]:checked').value, // solo versione due dischi\n      mostra_deco                 = Boolean(+document.querySelector('[name=\"deco\"]:checked').value),\n      caratteri_titolo_outline    = Boolean(+document.querySelector('[name=\"caratteri_titolo\"]:checked').value);\n\n    svg_titolo1.textContent = titolo1.value;\n    svg_titolo2.textContent = titolo2.value;\n\n\n    let cssArray = [];\n    if(caratteri_titolo_outline) {\n      cssArray = ['fill: #fff', 'stroke:#000', 'stroke-width:1px'];\n    } else {\n      cssArray = ['fill: #000', 'stroke:none'];\n    }\n    svg_titolo1.style.cssText = cssArray.join(';') + '; font-size:' + dim_titolo1.value + 'px';\n    svg_titolo2.style.cssText = cssArray.join(';') + '; font-size:' + dim_titolo2.value + 'px';\n\n\n    //svg_titolo1.style.fontSize = dim_titolo1.value + 'px';\n    //svg_titolo2.style.fontSize = dim_titolo2.value + 'px';\n\n    svg_deco.toggleAttribute('hidden', mostra_deco);\n    svg_finestra1.toggleAttribute('hidden', num_finestre === 1);\n  };\n\n\n  document.querySelectorAll('#settings input').forEach( item => {\n    item.addEventListener('change', function () {\n      wheel_data.update();\n    });\n\n    if(item.type === 'text') {\n      item.addEventListener('keyup', function () {\n        wheel_data.update();\n      });\n    }\n\n    if(item.type === 'radio' || item.type === 'checkbox') {\n      item.addEventListener('click', function () {\n        wheel_data.update();\n      });\n    }\n\n  });\n\n\n  // document.querySelector('.btn-update').addEventListener('click', function () {\n  //   wheel_data.update();\n  // });\n\n\n  wheel_data.update();\n\n})();\n","import { wheel_data } from './wheel-data-store';\n\n\n(() => {\n\n  wheel_data.store_settings = function () {\n\n    let settings = {};\n\n    settings.form = {};\n\n    document.querySelectorAll('#settings input').forEach( item => {\n\n\n      if(item.type === 'radio' || item.type === 'checkbox') {\n        settings.form[item.id] = item.checked;\n      } else {\n        settings.form[item.id] = item.value;\n      }\n    });\n\n    settings.cliparts = [];\n\n    wheel_data.cliparts_selected_wrapper.querySelectorAll('.clipart-selected').forEach(item => {\n      let clipart_text = item.querySelector('.clipart-text input').value;\n      item.dataset.nome = clipart_text;\n      settings.cliparts.push(item.dataset);\n    });\n    localStorage.setItem(wheel_data.storage_var, JSON.stringify(settings));\n  };\n\n\n  // retrieve settings\n  let settings = localStorage.getItem(wheel_data.storage_var);\n\n  if(settings) {\n    settings = JSON.parse(settings);\n    if(settings.form !== undefined && settings.cliparts !== undefined) {\n      for(let i in settings.form) {\n\n        let form_el = document.getElementById(i);\n\n        if(form_el.type === 'radio' || form_el.type === 'checkbox') {\n          form_el.checked = settings.form[i];\n        } else {\n          form_el.value = settings.form[i];\n        }\n      }\n\n      settings.cliparts.forEach(item => {\n        wheel_data.add_selected_clipart(item);\n      });\n\n      wheel_data.addClipsToDisk();\n    }\n\n  }\n\n})();\n","import { wheel_data } from './wheel-data-store';\n\n(() => {\n\n  document.querySelectorAll('.btn-print').forEach( btn => {\n\n    btn.addEventListener('click', function () {\n\n      wheel_data.update();\n      wheel_data.store_settings();\n      wheel_data.addClipsToDisk();\n      window.print();\n    }, false);\n  });\n\n  document.querySelectorAll('.btn-store_settings').forEach( btn => {\n    btn.addEventListener('click', function () {\n\n      wheel_data.update();\n      wheel_data.store_settings();\n      wheel_data.addClipsToDisk();\n    }, false);\n  });\n\n})();\n"],"names":["cliparts_list","wheel_data","svg_wrapper","document","getElementById","storage_var","cliparts_wrapper","querySelector","cliparts_selected_wrapper","grabbableStyle","customCallback","callCallback","dummy","bg","createDummy","updateDummy","initGrabbable","prevent","allowDrop","dragOn","resetDrop","sort","a","b","num_prefix","indexOf","forEach","item","insertAdjacentHTML","style","createElement","type","innerHTML","appendChild","elem","createEventObject","fireEvent","evt","createEvent","initEvent","dispatchEvent","position","width","height","overflow","className","addEventListener","e","dataTransfer","getData","preventDefault","stopPropagation","children","length","this","parentNode","insertBefore","display","x","el","left","offsetLeft","top","offsetTop","offsetWidth","offsetHeight","window","getComputedStyle","margin","marginTop","marginRight","marginBottom","marginLeft","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","previousElementSibling","nextElementSibling","setData","readyState","HTMLElement","prototype","grabbable","userCallback","i","draggabled","draggable","DragEvent","svg_retro","clips_posizionabili_totali","cliparts_have_text","get_cliparts_num","querySelectorAll","set_clips_posizionabili_totali","value","classList","toggle","remove","addClipsToDisk","index","clipart_text","svg_center","getAttribute","split","text_x","textLength","dataset","idx","text_element","bbox","getBBox","text_y","y","setAttribute","id","add_selected_clipart","clipart_data","nome","selected_last_child","closest","alert","titolo1","titolo2","dim_titolo1","dim_titolo2","svg_titolo1","svg_titolo2","svg_finestra1","svg_deco","update","num_finestre","mostra_deco","Boolean","caratteri_titolo_outline","textContent","cssArray","cssText","join","toggleAttribute","store_settings","settings","form","checked","cliparts","push","localStorage","setItem","JSON","stringify","getItem","parse","undefined","form_el","btn","print"],"mappings":"yBAEO,MAAMA,EAAgB,CAC3B,CACE,SACA,kBAEF,CACE,UACA,mBAEF,CACE,QACA,iBAEF,CACE,QACA,iBAEF,CACE,QACA,iBAEF,CACE,SACA,kBAEF,CACE,OACA,gBAEF,CACE,UACA,mBAEF,CACE,OACA,gBAEF,CACE,OACA,gBAEF,CACE,OACA,kBAEF,CACE,MACA,kBAEF,CACE,MACA,kBAEF,CACE,MACA,kBAEF,CACE,UACA,kBAEF,CACE,SACA,kBAEF,CACE,MACA,kBAEF,CACE,QACA,kBAEF,CACE,OACA,kBAEF,CACE,OACA,kBAEF,CACE,QACA,kBAEF,CACE,SACA,kBAEF,CACE,SACA,kBAEF,CACE,UACA,kBAEF,CACE,cACA,kBAEF,CACE,WACA,kBAEF,CACE,SACA,kBAEF,CACE,cACA,kBAEF,CACE,WACA,kBAEF,CACE,aACA,kBAEF,CACE,QACA,kBAEF,CACE,aACA,sBAEF,CACE,OACA,gBAEF,CACE,QACA,iBAEF,CACE,OACA,gBAEF,CACE,SACA,mBCjJSC,EAAa,CACxBC,YAAaC,SAASC,eAAe,eACrCC,YAAa,eACbC,iBAAkBH,SAASI,cAAc,uBACzCC,0BAA2BL,SAASI,cAAc,oCCwBnD,IACIE,EAWAC,EAEAC,EAeAC,EAAcC,EACdC,EA8BAC,EAmBAC,EAKAC,EAIAC,EAUAC,EAGAC,ECzGHpB,EAAcqB,MAAK,CAACC,EAAGC,KACrB,MAAMC,EAAa,cAKnB,OAHcF,EAAE,GAAGG,QAAQD,IAAe,EAAI,EAAI,IACtCD,EAAE,GAAGE,QAAQD,IAAe,EAAI,EAAI,EAExB,IAG1BxB,EAAc0B,SAAQ,SAAUC,GAC9B1B,EAAWK,iBAAiBsB,mBAAmB,YAC7C,iCAAmCD,EAAK,GAAK,gBAAkBA,EAAK,GAApE,+BAEgBA,EAAK,GAFrB,6BAG2BA,EAAK,GAHhC,kDAKwCA,EAAK,GAAK,KAAOA,EAAK,GAL9D,eAQN,IDdKlB,EAAiB,WACpB,IAAIoB,EAAQ1B,SAAS2B,cAAc,SACnCD,EAAME,KAAO,WACbF,EAAMG,UAAY,4SAKlB7B,SAASI,cAAc,QAAQ0B,YAAYJ,EAC7C,EAEKnB,EAAiB,KAEjBC,EAAe,SAASuB,GAC3B,GAAG/B,SAASgC,kBACXD,EAAKE,UAAU,iBAET,CACN,IAAIC,EAAMlC,SAASmC,YAAY,cAC/BD,EAAIE,UAAU,WAAW,GAAO,GAChCL,EAAKM,cAAcH,GAEZ3B,GAA4C,mBAAnBA,GAC3BA,GAEL,CACH,EAEKE,EAAQ,KAAMC,EAAK,KACnBC,EAAc,YACjBD,EAAKV,SAAS2B,cAAc,QACzBD,MAAMY,SAAW,WACpB5B,EAAGgB,MAAMa,MAAQ,MACjB7B,EAAGgB,MAAMc,OAAS,MAClB9B,EAAGgB,MAAMe,SAAW,UAEpBhC,EAAQT,SAAS2B,cAAc,QACzBe,UAAY,kBAClBjC,EAAMiB,MAAMY,SAAW,WACvB7B,EAAMkC,iBAAiB,QAAQ,SAASC,GAEvC,GAAU,cADCA,EAAEC,aAAaC,QAAQ,QAClC,CAKA,IAHAF,EAAEG,iBACFH,EAAEI,kBAEItC,EAAGuC,SAASC,OAAO,GAAE,CAC1B,IAAInB,EAAOrB,EAAGuC,SAAS,GACvBE,KAAKC,WAAWC,aAAatB,EAAMoB,KACnC,CAED1C,EAAMiB,MAAM4B,QAAU,OACtB9C,EAAaC,EAAM2C,WAXW,CAYjC,IAEE,IAAIG,EAAIvD,SAASI,cAAc,QAC/BmD,EAAEzB,YAAYrB,GACd8C,EAAEzB,YAAYpB,EAChB,EACKE,EAAc,SAAS4C,GAGhB,OAAP9C,IACDJ,IACAK,KAIFD,EAAGgB,MAAM+B,KAAOD,EAAGE,WAAW,KAC9BhD,EAAGgB,MAAMiC,IAAMH,EAAGI,UAAU,KAC5BnD,EAAMiB,MAAMa,MAAQiB,EAAGK,YAAY,KACnCpD,EAAMiB,MAAMc,OAASgB,EAAGM,aAAa,KAErC,IAAIpC,EAAQqC,OAAOC,iBAAiBR,GACpC/C,EAAMiB,MAAM4B,QAAU5B,EAAM4B,QAC5B7C,EAAMiB,MAAMuC,OAASvC,EAAMwC,UAAU,IAAIxC,EAAMyC,YAAY,IAAIzC,EAAM0C,aAAa,IAAI1C,EAAM2C,WAC5F5D,EAAMiB,MAAM4C,QAAU5C,EAAM6C,WAAW,IAAI7C,EAAM8C,aAAa,IAAI9C,EAAM+C,cAAc,IAAI/C,EAAMgD,WAClG,EACK7D,EAAgB,WACnBP,IACAK,GACF,EAEKG,EAAU,SAAS8B,GACtBA,EAAEG,iBACFH,EAAEI,iBACJ,EACKjC,EAAY,SAAS6B,GACxBA,EAAEG,iBAEFH,EAAEI,kBAECG,KAAKwB,yBAAyBlE,EAChC0C,KAAKC,WAAWC,aAAa5C,EAAO0C,MAEpCA,KAAKC,WAAWC,aAAa5C,EAAO0C,KAAKyB,mBAC5C,EACK5D,EAAS,SAAS4B,GACrBA,EAAEC,aAAagC,QAAQ,OAAQ,YACjC,EACK5D,EAAY,SAAS2B,GAExB,GAAU,cADCA,EAAEC,aAAaC,QAAQ,QAClC,CAIA,IAFAhC,EAAQ8B,GAEFlC,EAAGuC,SAASC,OAAO,GAAE,CAC1B,IAAInB,EAAOrB,EAAGuC,SAAS,GACvBxC,EAAM2C,WAAWC,aAAatB,EAAMtB,EACpC,CACDA,EAAMiB,MAAM4B,QAAU,OACtB9C,EAAaC,EAAM2C,WATW,CAUhC,EAE0B,aAAtBpD,SAAS8E,WACVjE,IAEAb,SAAS2C,iBAAiB,oBAAoB,WAAY9B,GAAgB,IAG5EkE,YAAYC,UAAUC,UAAY,SAAUC,IACtC,IAAI/B,KAAKT,UAAU,KAAKpB,QAAQ,eAAe,IACnD6B,KAAKT,WAAa,cAEfwC,GAAwC,mBAAjBA,IACzB3E,EAAiB2E,GAGnB,IAAI,IAAIC,EAAE,EAAGA,EAAEhC,KAAKF,SAASC,OAAQiC,IAAI,CACxC,IAAI3B,EAAKL,KAAKF,SAASkC,GACvB,QAA0B,IAAhB3B,EAAG4B,WAAyB,CACrC,GAAG5B,IAAK/C,EAAO,SAEf+C,EAAG6B,WAAY,EAEf7B,EAAGb,iBAAiB,YAAa3B,GACjCwC,EAAGb,iBAAiB,WAAY5B,GAChCyC,EAAGb,iBAAiB,QAAQ,WACxBQ,KAAKC,aAAa1C,GAClByC,OAAO1C,IACVG,EAAYuC,MACZA,KAAKC,WAAWC,aAAa5C,EAAO0C,MACpCzC,EAAGoB,YAAYqB,MACpB,IACIK,EAAGb,iBAAiB,QAAQ,SAASC,GACpC9B,EAAQ8B,GACL5C,SAASgC,kBACVvB,EAAMwB,UAAU,SAAUW,GAE1BnC,EAAM4B,cAAc,IAAIiD,UAAU1C,EAAEhB,KAAMgB,GAEjD,IACIY,EAAG4B,YAAa,CAChB,CACD,MAE+B,IAAtBpF,SAASoF,aAClBpF,SAAS2C,iBAAiB,WAAY7B,GACtCd,SAAS2C,iBAAiB,OAAQ1B,GAClCjB,SAASoF,YAAa,EAEzB,EE3LA,MAEE,MAAMG,EAAYzF,EAAWC,YAAYK,cAAc,gBAGvD,IAAIoF,EAEFC,EAGF,MAAMC,EAAmB,WACrB,OAAO5F,EAAWO,0BAA0BsF,iBAAiB,qBAAqBzC,MACnF,EAGD0C,EAAiC,WAC/BJ,EAA4F,IAA9DxF,SAASI,cAAc,6BAA6ByF,MAAa,GAAK,EACpGJ,EAAoD,IAA/BD,EAGrB1F,EAAWO,0BAA0ByF,UAAUC,OAAO,gBAAiBN,GAEpEC,IAAqBF,GACtB1F,EAAWO,0BACRsF,iBAAiB,iCAAiCH,EAA6B,KAC/EjE,SAAQC,IACPA,EAAKwE,QAAQ,GAIzB,EAGEhG,SAAS2F,iBAAiB,qBAAqBpE,SAAQiC,IACrDA,EAAGb,iBAAiB,SAAS,KAC3BiD,GAAgC,GAChC,IAIJ9F,EAAWmG,eAAiB,WAE1BL,IAEAL,EAAUI,iBAAiB,YAAYpE,SAAQC,IAC7CA,EAAKwE,QAAQ,IAGflG,EAAWO,0BAA0BsF,iBAAiB,qBAAqBpE,SAAQ,CAACC,EAAM0E,KAExF,IAAIC,EAAe3E,EAAKpB,cAAc,uBAAuByF,MAE7D,MAIEO,EADuBb,EAAUc,aAAa,WAAWC,MAAM,KAAK,GAClC,EAEpC,GAAGb,EAAoB,CAErB,IAAIc,EAAS,GACXC,EAAaJ,EAAaG,EAAS,GAErChB,EAAU9D,mBAAmB,YAC3B,+CAA+CD,EAAKiF,QAAQC,kLAMtDP,0CAOR,IAAIQ,EAAepB,EAAUnF,cAAc,iBAAiBoB,EAAKiF,QAAQC,YACvEE,EAAOD,EAAaE,UAEpBC,GAASV,GAAcQ,EAAKG,EAAIH,EAAKpE,QAAU,EAEjDmE,EAAaK,aAAa,IAAKF,GAC/BH,EAAaK,aAAa,IAAKT,GAE5BK,EAAKrE,MAAQiE,IACdG,EAAaK,aAAa,aAAcR,GACxCG,EAAaK,aAAa,eAAgB,qBAG5CzB,EAAUnF,cAAc,iBAAiBoB,EAAKiF,QAAQC,OACnDM,aAAa,YAAa,UArCf,GAqCuCd,KAASE,KAAcA,MAG5Eb,EAAU9D,mBAAmB,YAC3B,+BAA+BD,EAAKiF,QAAQC,mEAEpBN,EAAU,sCA3CtB,IA4CyBF,EAAQ,MAAME,KAAcA,iCAChD5E,EAAKiF,QAAQQ,yBAIxC,MACQ1B,EAAU9D,mBAAmB,YAC3B,+BAA+BD,EAAKiF,QAAQC,mEAEpBN,EAAU,sCArDtB,GAsDwBF,KAASE,KAAcA,iCAC1C5E,EAAKiF,QAAQQ,yBAGjC,GAGP,EAGEnH,EAAWoH,qBAAuB,SAAUC,GAG1C,IAAIT,EAAM5G,EAAWO,0BAA0BsF,iBAAiB,qBAAqBzC,OAErFpD,EAAWO,0BAA0BoB,mBAAmB,YACtD,sbAO4B0F,EAAaF,wHAGLP,gGACoBA,aAAeS,EAAaC,0EAMtF,IAAIC,EAAsBvH,EAAWO,0BAClCD,cAAc,gCAEjB,IAAI,IAAI+E,KAAKgC,EACXE,EAAoBZ,QAAQtB,GAAKgC,EAAahC,GAEhDkC,EAAoBZ,QAAQC,IAAMA,EAElC5G,EAAWO,0BAA0B4E,UAAUnF,EAAWmG,gBAE1DnG,EAAWmG,iBAEKoB,EAAoBjH,cAAc,cAExCuC,iBAAiB,SAAS,WAClCQ,KAAKmE,QAAQ,qBAAqBtB,SAClClG,EAAWmG,gBACjB,GACA,EAGEnG,EAAWK,iBAAiBwF,iBAAiB,YAAYpE,SAAQC,IAE/DA,EAAKmB,iBAAiB,SAAS,KAEzB+C,IAAqBF,EACvB1F,EAAWoH,qBAAqB1F,EAAKiF,SAGrCc,MAAM,+CACP,GACD,IAIJvH,SAASI,cAAc,oBAAoBuC,iBAAiB,SAAS,WACnE4C,EAAUI,iBAAiB,YAAYpE,SAAQC,IAC7CA,EAAKwE,QAAQ,IAEflG,EAAWO,0BAA0BwB,UAAY,EAClD,IAAE,GAEH+D,GAED,EAzLD,GCDA,MAEE,MAAM4B,EAAYxH,SAASC,eAAe,WACxCwH,EAAgBzH,SAASC,eAAe,WACxCyH,EAAgB1H,SAASC,eAAe,eACxC0H,EAAgB3H,SAASC,eAAe,eACxC2H,EAAgB9H,EAAWC,YAAYK,cAAc,0BACrDyH,EAAgB/H,EAAWC,YAAYK,cAAc,0BACrD0H,EAAgBhI,EAAWC,YAAYK,cAAc,4BACrD2H,EAAgBjI,EAAWC,YAAYK,cAAc,uBAEvDN,EAAWkI,OAAS,WAElB,IAAIC,GAA6BjI,SAASI,cAAc,6BAA6ByF,MACnFqC,EAA8BC,SAASnI,SAASI,cAAc,yBAAyByF,OACvFuC,EAA8BD,SAASnI,SAASI,cAAc,qCAAqCyF,OAErG+B,EAAYS,YAAcb,EAAQ3B,MAClCgC,EAAYQ,YAAcZ,EAAQ5B,MAGlC,IAAIyC,EAAW,GAEbA,EADCF,EACU,CAAC,aAAc,cAAe,oBAE9B,CAAC,aAAc,eAE5BR,EAAYlG,MAAM6G,QAAUD,EAASE,KAAK,KAAO,eAAiBd,EAAY7B,MAAQ,KACtFgC,EAAYnG,MAAM6G,QAAUD,EAASE,KAAK,KAAO,eAAiBb,EAAY9B,MAAQ,KAMtFkC,EAASU,gBAAgB,SAAUP,GACnCJ,EAAcW,gBAAgB,SAA2B,IAAjBR,EAC5C,EAGEjI,SAAS2F,iBAAiB,mBAAmBpE,SAASC,IACpDA,EAAKmB,iBAAiB,UAAU,WAC9B7C,EAAWkI,QACjB,IAEqB,SAAdxG,EAAKI,MACNJ,EAAKmB,iBAAiB,SAAS,WAC7B7C,EAAWkI,QACnB,IAGqB,UAAdxG,EAAKI,MAAkC,aAAdJ,EAAKI,MAC/BJ,EAAKmB,iBAAiB,SAAS,WAC7B7C,EAAWkI,QACnB,GACK,IAUHlI,EAAWkI,QAEZ,EAlED,GCCA,MAEElI,EAAW4I,eAAiB,WAE1B,IAAIC,EAAW,CAEfA,KAAgB,IAEhB3I,SAAS2F,iBAAiB,mBAAmBpE,SAASC,IAGnC,UAAdA,EAAKI,MAAkC,aAAdJ,EAAKI,KAC/B+G,EAASC,KAAKpH,EAAKyF,IAAMzF,EAAKqH,QAE9BF,EAASC,KAAKpH,EAAKyF,IAAMzF,EAAKqE,KAC/B,IAGH8C,EAASG,SAAW,GAEpBhJ,EAAWO,0BAA0BsF,iBAAiB,qBAAqBpE,SAAQC,IACjF,IAAI2E,EAAe3E,EAAKpB,cAAc,uBAAuByF,MAC7DrE,EAAKiF,QAAQW,KAAOjB,EACpBwC,EAASG,SAASC,KAAKvH,EAAKiF,QAAQ,IAEtCuC,aAAaC,QAAQnJ,EAAWI,YAAagJ,KAAKC,UAAUR,GAChE,EAIE,IAAIA,EAAWK,aAAaI,QAAQtJ,EAAWI,aAE/C,GAAGyI,IACDA,EAAWO,KAAKG,MAAMV,QACDW,IAAlBX,EAASC,WAA4CU,IAAtBX,EAASG,UAAwB,CACjE,IAAI,IAAI3D,KAAKwD,EAASC,KAAM,CAE1B,IAAIW,EAAUvJ,SAASC,eAAekF,GAElB,UAAjBoE,EAAQ3H,MAAqC,aAAjB2H,EAAQ3H,KACrC2H,EAAQV,QAAUF,EAASC,KAAKzD,GAEhCoE,EAAQ1D,MAAQ8C,EAASC,KAAKzD,EAEjC,CAEDwD,EAASG,SAASvH,SAAQC,IACxB1B,EAAWoH,qBAAqB1F,EAAK,IAGvC1B,EAAWmG,gBACZ,CAIJ,EAvDD,GCCEjG,SAAS2F,iBAAiB,cAAcpE,SAASiI,IAE/CA,EAAI7G,iBAAiB,SAAS,WAE5B7C,EAAWkI,SACXlI,EAAW4I,iBACX5I,EAAWmG,iBACXlC,OAAO0F,OACR,IAAE,EAAM,IAGXzJ,SAAS2F,iBAAiB,uBAAuBpE,SAASiI,IACxDA,EAAI7G,iBAAiB,SAAS,WAE5B7C,EAAWkI,SACXlI,EAAW4I,iBACX5I,EAAWmG,gBACZ,IAAE,EAAM"}